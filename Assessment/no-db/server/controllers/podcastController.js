let podcasts = [
    {
        id: 0,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 1',
        description: "Crime",
        genre: 'crime',
        rating: 0

    },
    {
        id: 1,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 2',
        description: "description2 ",
        genre: 'crime',
        rating: 0

    },
    {
        id: 2,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 3',
        description: "description 3",
        genre: '',
        rating: 0

    },
    {
        id: 3,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 4',
        description: "description 4",
        genre: '',
        rating: 0

    },
    {
        id: 4,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 5',
        description: "description 5",
        genre: 'crime',
        rating: 0

    },
    {
        id: 5,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 6',
        description: "description6 ",
        genre: 'crime',
        rating: 0

    },
    {
        id: 6,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 7',
        description: "description 7",
        genre: '',
        rating: 0

    },
    {
        id: 7,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 8',
        description: "description 8",
        genre: '',
        rating: 0

    },
    {
        id: 8,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 1',
        description: "description 1",
        genre: 'crime',
        rating: 0

    },
    {
        id: 9,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 2',
        description: "description2 ",
        genre: 'crime',
        rating: 0

    },
    {
        id: 10,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 3',
        description: "description 3",
        genre: '',
        rating: 0

    },
    {
        id: 11,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 4',
        description: "description 4",
        genre: '',
        rating: 0

    },
    {
        id: 12,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 5',
        description: "description 5",
        genre: 'crime',
        rating: 0

    },
    {
        id: 13,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 6',
        description: "description6 ",
        genre: 'crime',
        rating: 0

    },
    {
        id: 14,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 7',
        description: "description 7",
        genre: '',
        rating: 0

    },
    {
        id: 15,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 8',
        description: "description 8",
        genre: '',
        rating: 0

    },
    {
        id: 16,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 1',
        description: "description 1",
        genre: 'crime',
        rating: 0

    },
    {
        id: 17,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 2',
        description: "description2 ",
        genre: 'crime',
        rating: 0

    },
    {
        id: 18,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 3',
        description: "description 3",
        genre: '',
        rating: 0

    },
    {
        id: 19,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 4',
        description: "description 4",
        genre: '',
        rating: 0

    },
    {
        id: 20,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 5',
        description: "description 5",
        genre: 'crime',
        rating: 0

    },
    {
        id: 21,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 6',
        description: "description6 ",
        genre: 'crime',
        rating: 0

    },
    {
        id: 22,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 7',
        description: "description 7",
        genre: '',
        rating: 0

    },
    {
        id: 23,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 8',
        description: "description 8",
        genre: '',
        rating: 0

    },
    {
        id: 24,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 1',
        description: "description 1",
        genre: 'crime',
        rating: 0

    },
    {
        id: 25,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 2',
        description: "description2 ",
        genre: 'crime',
        rating: 0

    },
    {
        id: 26,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 3',
        description: "description 3",
        genre: '',
        rating: 0

    },
    {
        id: 27,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 4',
        description: "description 4",
        genre: '',
        rating: 0

    },
    {
        id: 28,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 5',
        description: "description 5",
        genre: 'crime',
        rating: 0

    },
    {
        id: 29,
        image: 'https://www.wolflair.com/wp-content/uploads/2017/01/placeholder.jpg',
        title: 'Podcast Name 6',
        description: "description6 ",
        genre: 'crime',
        rating: 0

    },
]
let subscriptions = []

let id = 1

module.exports = {
    getPods: (req, res) => {
        res.status(200).send(podcasts)
    },
    getSubs: (req, res) => {
        res.status(200).send(subscriptions)
    },
    subscribe: (req, res) => {
        const {image, title, rating} = req.body
        const newSubscription = {
            image,
            title,
            rating,
            id: id
        }
        id++
        subscriptions.push(newSubscription)
        res.status(200).send(subscriptions)
    },
    unsubscribe: (req, res) => {
        const {id} = req.params
        const index = subscriptions.findIndex((e) => {
            return e.id === +id
        })
        subscriptions.splice(index, 1)
        res.status(200).send(subscriptions)
    },
    editRating: (req, res) => {
        const {id} = req.params
        const {rating} = req.body
        const index = subscriptions.findIndex((e) => {
            return e.id === +id
        })
        subscriptions[index] = {
        ...subscriptions[index],
        rating: rating
        }
        res.status(200).send(subscriptions) 
    }
}
